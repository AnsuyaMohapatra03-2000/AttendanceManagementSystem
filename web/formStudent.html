<!doctype html>
<html lang="en">
<head>
	<title>Form </title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link href="https://fonts.googleapis.com/css2?family=Kumbh+Sans&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="assets/css/home/style_studentReg.css">
	<link rel="stylesheet" href="assets/css/home/formhack.css">
</head>
<body>
     <div class="container">
         <form class="registration" id="registration" method="POST" action="RegisterStudentServlet" enctype="multipart/form-data">
			<h1>Student Registration Form</h1>

		<div>
			<label for="firstname">
				<span>First Name</span>
				<input type="text" id="firstname" name="fname" required>
				<ul class="input-requirements">
					<li>Must only contain letters(no numbers/special characters)</li>
				</ul>
			</label>
		</div>
		<div>
			<label for="lastname">
				<span>Last Name</span>
                                <input type="text" id="lastname" name="lname" required>
				<ul class="input-requirements">
					<li>Must only contain letters (no numbers/special characters)</li>
				</ul>
			</label>
		</div>

		<div>
			<label for="mail">
				<span>Email</span>

                                <input type="text" id="mail" name="email" required>
				<ul class="input-requirements">
					<li>Must be of the structure accountName@domainName</li>
				</ul>

			</label>
		</div>

		<div>
			<label for="password">
				<span>Password</span>

				<input type="password" name="password" id="password" maxlength="100" minlength="8" required>

				<ul class="input-requirements">
					<li>At least 8 characters long (and less than 100 characters)</li>
					<li>Contains at least 1 number</li>
					<li>Contains at least 1 letter</li>
					<li>Contains a special character (e.g. @ !)</li>
				</ul>
			</label>
		</div>

		<div>
			<label for="password_repeat">
				<span>Repeat Password</span>
				<input type="password" id="password_repeat" maxlength="100" minlength="8" required>
			</label>
		</div>
		
		<div>
                    <label for="subject">
				<span>Subject 1</span>
			<select name="subject-1" class="subject-list" required>
	          <option value="">  </option>
	          <option value="iwt">IWT</option>
	          <option value="dccn">DCCN</option>
	          <option value="os">OS</option>          
                        </select></label>
		</div>

		<div>
			<label for="subject">
				<span>Subject 2</span>
			<select name="subject-2" class="subject-list" required>
	          <option value="">  </option>
	          <option value="iwt">IWT</option>
	          <option value="dccn">DCCN</option>
	          <option value="os">OS</option>          
	        </select></label>
		</div>

		<div>
			<label for="subject">
				<span>Subject 3 (Optional)</span>
			<select name="subject-3" class="subject-list">
	          <option value="">  </option>
	          <option value="iwt">IWT</option>
	          <option value="dccn">DCCN</option>
	          <option value="os">OS</option>          
	        </select></label>
		</div>

		<div>
			<label>
				<span>Upload Image </span>
				<input type="file" name="inpFile" id="inpFile" required>
				<div class="image-preview" id="image-preview">
					<img src="" alt="Image" class="image-preview-img">
					<span class="image-preview-default-text">Image Preview</span>
				</div>
			</label>
		</div>

		<div>
			<label for="checkbox">
				<input type="checkbox" id="tnc" name="tnc" required>
				<span>I agree to all the terms and conditions</span>
			</label> 
		</div>

		<div class="submit-btn">
			<input type="submit" onclick="Upload();">
		</div>	

		   </form>
	</div>
    <script src="js/script_studentReg.js" type="text/javascript"></script>
    <script type="text/javascript">
		const inpFile = document.getElementById("inpFile");
		const previewContainer = document.getElementById("image-preview");
		const previewImg = previewContainer.querySelector(".image-preview-img");
		const previewDefaultText = previewContainer.querySelector(".image-preview-default-text");

		inpFile.addEventListener("change", function(){
			const file = this.files[0];

			if(file){
				const reader = new FileReader();


				previewDefaultText.style.display = "none";
				previewImg.style.display = "block";


				reader.addEventListener("load", function(){
					previewImg.setAttribute("src", this.result); 
				});

				reader.readAsDataURL(file);
			}
			else{
				previewDefaultText.style.display = null;
				previewImg.style.display = null;
				previewImg.setAttribute("src", "");
			}
		});

		function Upload() {
                                       var fileUpload = document.getElementById("inpFile");
                                            if (typeof (fileUpload.files) != "undefined") {
                                                     var size = parseFloat(fileUpload.files[0].size / 1024).toFixed(2);
	                                   if(size>16000){
	                                  	alert("File should be less than 16MB");
	                                }
        	                   } 
		}

	</script>
</body>
</html>
